<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rio Anime Shop ‚Äî Cat√°logo</title>

  <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
  <link rel="shortcut icon" href="favicon.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0b1a24; --bg2:#1c2f4a;
      --glass: rgba(255,255,255,.08); --glass2: rgba(255,255,255,.12);
      --txt:#eaf4ef; --muted: rgba(234,244,239,.75);
      --shadow: 0 18px 40px rgba(0,0,0,.35); --radius: 22px;
    }

    /* ===== FIX BASE (evita vazamento lateral) ===== */
    *,*::before,*::after{ box-sizing:border-box; }
    html, body{ max-width:100%; overflow-x:hidden; }
    img, svg, video, canvas{ max-width:100%; height:auto; display:block; }
    input, button, select, textarea{ max-width:100%; }

    body{
      margin:0; color:var(--txt);
      font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
      min-height:100vh;
      background:
        radial-gradient(1000px 600px at 20% 10%, rgba(255,0,120,.18), transparent 60%),
        radial-gradient(900px 550px at 80% 20%, rgba(0,180,255,.16), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2), var(--bg1));
      overflow-x:hidden;
    }
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.12'/%3E%3C/svg%3E");
      opacity:.12; mix-blend-mode: overlay;
    }

    .wrap{ max-width:1080px; margin:0 auto; padding:18px 16px 96px; }

    .top{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:14px; border-radius:var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: 0 14px 34px rgba(0,0,0,.28);
      backdrop-filter: blur(10px);
    }
    .brandLeft{ display:flex; align-items:center; gap:12px; min-width:0; }
    .logoSmall{
      width:46px; height:46px; border-radius:14px; object-fit:cover;
      border:1px solid rgba(255,255,255,.18);
      box-shadow:0 10px 22px rgba(0,0,0,.28);
      flex:0 0 auto;
    }
    .titles{ min-width:0; }
    .title{
      margin:0; font-family:"Baloo 2", system-ui, sans-serif;
      font-size:20px; line-height:1.1; letter-spacing:.2px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .subtitle{
      margin:2px 0 0; color:var(--muted); font-size:12.5px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:14px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.12);
      color:var(--txt); text-decoration:none;
      font-weight:600; font-size:13px;
      transition: transform .18s ease;
      user-select:none; -webkit-tap-highlight-color: transparent;
      flex:0 0 auto;
      cursor:pointer;
    }
    .btn:hover{ transform: translateY(-1px); }

    .panel{
      margin-top:14px; padding:14px; border-radius:var(--radius);
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      box-shadow: 0 12px 28px rgba(0,0,0,.22);
    }
    .panelTop{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:12px; flex-wrap:wrap;
    }
    .catName{ font-family:"Baloo 2", system-ui, sans-serif; font-size:22px; margin:0; }

    .countRow{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .miniBtn{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:12px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.12);
      color:var(--txt); text-decoration:none;
      font-weight:700; font-size:12px;
      cursor:pointer;
      user-select:none; -webkit-tap-highlight-color: transparent;
      transition: transform .18s ease;
    }
    .miniBtn:hover{ transform: translateY(-1px); }

    .filters{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-end;
      max-width:100%;
      min-width:0;
    }

    .search{
      display:flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:14px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.12);
      width:100%;
      max-width:360px;
      min-width:0;
    }
    .search input{ width:100%; border:0; outline:0; background:transparent; color:var(--txt); font-size:14px; }
    .search input::placeholder{ color: rgba(234,244,239,.55); }

    .chip{
      padding:10px 12px; border-radius:999px;
      background: rgba(0,0,0,.16);
      border:1px solid rgba(255,255,255,.12);
      color:var(--muted); font-size:13px;
      cursor:pointer; user-select:none; -webkit-tap-highlight-color: transparent;
      transition: transform .18s ease, border-color .18s ease, color .18s ease;
    }
    .chip:hover{ transform: translateY(-1px); }
    .chip.active{
      color:var(--txt);
      border-color: rgba(255,255,255,.26);
      background: rgba(255,255,255,.10);
    }

    .grid{ display:grid; gap:12px; margin-top:12px; grid-template-columns:1fr; }
    @media (min-width:740px){ .grid{ grid-template-columns:1fr 1fr; gap:14px; } }
    @media (min-width:1020px){ .grid{ grid-template-columns:1fr 1fr 1fr; } }

    .product{
      border-radius:20px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 12px 30px rgba(0,0,0,.22);
      overflow:hidden;
      display:flex; flex-direction:column; min-height:100%;
    }
    .thumb{
      width:100%; aspect-ratio:4/3; object-fit:cover;
      background: rgba(255,255,255,.06);
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .pbody{ padding:12px; display:flex; flex-direction:column; gap:8px; flex:1 1 auto; }
    .pname{ margin:0; font-weight:600; line-height:1.2; font-size:15px; }
    .row{ display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }
    .price{ font-family:"Baloo 2", system-ui, sans-serif; font-size:18px; letter-spacing:.2px; }
    .badge{
      font-size:12px; padding:7px 10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      color:var(--muted);
    }
    .b-pronta{ color: rgba(120,255,210,.95); border-color: rgba(120,255,210,.22); }
    .b-encom{ color: rgba(255,210,120,.95); border-color: rgba(255,210,120,.22); }
    .b-esgot{ color: rgba(255,120,120,.95); border-color: rgba(255,120,120,.22); }

    .actions{
      margin-top:auto;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      width:100%;
      max-width:100%;
    }
    .btn2{
      flex:1 1 160px;
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:11px 12px; border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      color:var(--txt); text-decoration:none;
      font-weight:700; font-size:13px;
      user-select:none; -webkit-tap-highlight-color: transparent;
      transition: transform .18s ease;
      text-align:center;
      min-width:140px;
    }
    .btn2:hover{ transform: translateY(-1px); }
    .btnBuy{ background:#25D366; color:#082014; border-color: rgba(255,255,255,.35); }

    .empty{
      margin-top:14px; padding:16px; border-radius:18px;
      background: rgba(0,0,0,.14);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted); text-align:center;
      display:none;
    }

    .wafab{
      position:fixed; right:16px; bottom:16px;
      width:56px; height:56px; border-radius:18px;
      display:grid; place-items:center;
      background:#25D366; color:#0b1a24; text-decoration:none;
      box-shadow: 0 16px 36px rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.35);
      font-size:26px; z-index:999;
      transition: transform .18s ease;
    }
    .wafab:hover{ transform: translateY(-2px); }

    @media (max-width:520px){
      .filters{ justify-content:center; }
      .search{ flex:1 1 100%; max-width:100%; }
    }
  </style>
</head>

<body>
  <main class="wrap">
    <header class="top">
      <div class="brandLeft">
        <img src="logo.png" class="logoSmall" alt="Rio Anime Shop">
        <div class="titles">
          <p class="title">Rio Anime Shop</p>
          <p class="subtitle" id="topSub">Cat√°logo</p>
        </div>
      </div>

      <a class="btn" href="index.html">‚¨ÖÔ∏è Voltar</a>
    </header>

    <section class="panel">
      <div class="panelTop">
        <div>
          <h2 class="catName" id="catTitle">Categoria</h2>
          <div class="countRow">
            <div class="subtitle" id="countInfo">Carregando...</div>
            <!-- üîí Bot√£o aparece s√≥ para admin (?admin=1) -->
            <button class="miniBtn" id="refreshBtn" type="button" style="display:none;">üîÑ Atualizar</button>
          </div>
          <div class="subtitle" id="cacheInfo" style="margin-top:6px; opacity:.8;"></div>
        </div>

        <div class="filters">
          <div class="search">üîé <input id="q" type="search" placeholder="Buscar por nome..." autocomplete="off" /></div>
          <div class="chip active" data-filter="all">Todos</div>
          <div class="chip" data-filter="pronta">Pronta entrega</div>
          <div class="chip" data-filter="encomenda">Encomenda</div>
        </div>
      </div>

      <div class="grid" id="grid"></div>
      <div class="empty" id="empty">Nenhum produto encontrado.</div>
    </section>
  </main>

  <a class="wafab" id="waFab" href="#" aria-label="WhatsApp">üí¨</a>

  <script>
    // ====== CONFIG ======
    const WHATSAPP_NUMBER = "5522988529894";
    const STORE_NAME = "Rio Anime Shop";

    const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSJeTQp2C9wH6o_JpEMzgv7SDRvDvJmdwuD_Vd2LvN17msa68cuYQJGDGgCNoOzSjLfVvTelJ_8WlEO/pub?output=csv";

    // ‚úÖ Cache do CSV: 1 hora
    const CACHE_TTL_MS = 60 * 60 * 1000; // 1 hora

    const CAT_LABELS = {
      camisas: "Camisas",
      actionfigure: "Action Figure",
      funkopop: "Funko Pop",
      copos: "Copos",
      canecas: "Canecas"
    };

    // ====== HELPERS ======
    function normalizeDriveImage(url){
      url = String(url || "").trim();
      if(!url) return "";
      if(url.includes("docs.google.com/spreadsheets")) return "";
      if(url.includes("lh3.googleusercontent.com")) return url;

      let m = url.match(/[?&]id=([^&]+)/);
      if(m && m[1]) return `https://lh3.googleusercontent.com/d/${m[1]}`;

      m = url.match(/\/file\/d\/([^/]+)/);
      if(m && m[1]) return `https://lh3.googleusercontent.com/d/${m[1]}`;

      if(/^[a-zA-Z0-9_-]{20,}$/.test(url)) return `https://lh3.googleusercontent.com/d/${url}`;
      return url;
    }

    function shrinkImage(url, w=800){
      url = String(url || "");
      if(!url) return url;
      if(!url.includes("lh3.googleusercontent.com")) return url;
      if(url.includes("=w") || url.includes("=s")) return url;
      return url + `=w${w}`;
    }

    function parsePriceBR(raw){
      let s = String(raw ?? "").trim();
      if(!s) return NaN;
      s = s.replace(/[^\d,.-]/g, "");
      if(s.includes(",")) s = s.replace(/\./g, "").replace(",", ".");
      const n = Number(s);
      return Number.isFinite(n) ? n : NaN;
    }

    function moneyBRL(v){
      const num = Number(v);
      if(!Number.isFinite(num)) return "Sob consulta";
      return num.toLocaleString("pt-BR", { style:"currency", currency:"BRL" });
    }

    function parseCSV(text){
      const rows = [];
      let row = [];
      let cur = "";
      let inQuotes = false;

      for(let i=0;i<text.length;i++){
        const c = text[i];
        const n = text[i+1];

        if(c === '"' && inQuotes && n === '"'){ cur += '"'; i++; continue; }
        if(c === '"'){ inQuotes = !inQuotes; continue; }

        if(c === "," && !inQuotes){ row.push(cur); cur = ""; continue; }

        if((c === "\n" || c === "\r") && !inQuotes){
          if(c === "\r" && n === "\n"){ i++; }
          row.push(cur); cur = "";
          if(row.some(x => String(x).trim() !== "")) rows.push(row);
          row = [];
          continue;
        }
        cur += c;
      }
      row.push(cur);
      if(row.some(x => String(x).trim() !== "")) rows.push(row);
      return rows;
    }

    function slugCat(s){
      return String(s || "")
        .toLowerCase()
        .normalize("NFD").replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-z0-9]/g, "");
    }

    function normStatus(s){
      const t = String(s || "").toLowerCase().trim();
      if(t.includes("pronta")) return "pronta";
      if(t.includes("encom")) return "encomenda";
      if(t.includes("esgot")) return "esgotado";
      return "pronta";
    }

    function statusBadge(p){
      if(p.status === "pronta") return '<span class="badge b-pronta">Pronta entrega</span>';
      if(p.status === "encomenda") return '<span class="badge b-encom">Encomenda</span>';
      return '<span class="badge b-esgot">Esgotado</span>';
    }

    function buildBaseUrl(){
      if(location.origin && location.origin !== "null"){
        const dir = location.pathname.replace(/[^/]*$/, "");
        return location.origin + dir;
      }
      return "";
    }

    function buildWhatsAppLink(p){
      const base = buildBaseUrl();
      const linkProduto = base ? `${base}produto.html?id=${encodeURIComponent(p.id)}` : "";

      const msg =
        `Ol√°! Vim pelo cat√°logo da ${STORE_NAME} üòÑ\n` +
        `Tenho interesse no produto:\n` +
        `‚Ä¢ ${p.name}\n` +
        `‚Ä¢ ${moneyBRL(p.price)}\n` +
        `‚Ä¢ ID: ${p.id}\n` +
        (linkProduto ? `Link: ${linkProduto}\n` : "") +
        `Pode me informar frete e formas de pagamento?`;

      return `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;
    }

    function idxAny(headers, names){
      const lower = headers.map(h => String(h).trim().toLowerCase());
      for(const nm of names){
        const i = lower.indexOf(String(nm).toLowerCase());
        if(i >= 0) return i;
      }
      return -1;
    }

    // ‚úÖ NOVO: converte ID em n√∫mero (pra ordenar por ‚Äúmais recente‚Äù)
    function parseIdNum(v){
      const s = String(v ?? "").trim();
      if(!s) return 0;
      const n = Number(s.replace(/[^\d.-]/g, ""));
      return Number.isFinite(n) ? n : 0;
    }

    // ====== ADMIN + PARAMS ======
    const qs = new URLSearchParams(location.search);
    const isAdmin = qs.get("admin") === "1";
    const cat = (qs.get("cat") || "").toLowerCase();

    // ====== CACHE DO CSV ======
    function cacheKey(){
      return "ras_csv_cache__" + btoa(CSV_URL).replace(/=+$/,"");
    }

    function readCache(){
      try{
        const raw = localStorage.getItem(cacheKey());
        if(!raw) return null;
        return JSON.parse(raw);
      }catch(e){
        return null;
      }
    }

    function writeCache(products){
      try{
        localStorage.setItem(cacheKey(), JSON.stringify({
          ts: Date.now(),
          products
        }));
      }catch(e){}
    }

    function fmtTime(ts){
      try{
        const d = new Date(ts);
        return d.toLocaleString("pt-BR");
      }catch(e){
        return "";
      }
    }

    async function loadProductsFromSheet({ forceRefresh=false } = {}){
      const cached = readCache();
      if(!forceRefresh && cached && cached.ts && Array.isArray(cached.products)){
        const age = Date.now() - cached.ts;
        if(age <= CACHE_TTL_MS){
          return { products: cached.products, fromCache: true, ts: cached.ts };
        }
      }

      const url = forceRefresh
        ? (CSV_URL + (CSV_URL.includes("?") ? "&" : "?") + "v=" + Date.now())
        : CSV_URL;

      const res = await fetch(url);
      if(!res.ok) throw new Error("Falha ao carregar CSV");

      const csv = await res.text();
      const table = parseCSV(csv);
      if(table.length < 2) return { products: [], fromCache: false, ts: Date.now() };

      const headers = table[0].map(h => String(h).trim());

      const iID     = idxAny(headers, ["ID"]);
      const iCat    = idxAny(headers, ["Categoria"]);
      const iNome   = idxAny(headers, ["Nome"]);
      const iPreco  = idxAny(headers, ["Pre√ßo","Preco"]);
      const iStatus = idxAny(headers, ["Status"]);
      const iEstoq  = idxAny(headers, ["Estoque"]);
      const iFoto   = idxAny(headers, ["Foto_URL","Foto"]);
      const iDesc   = idxAny(headers, ["Descri√ß√£o","Descricao"]);

      const out = [];
      for(let r=1;r<table.length;r++){
        const row = table[r];

        const id = String(row[iID] ?? "").trim();
        const name = String(row[iNome] ?? "").trim();
        if(!id || !name) continue;

        const idNum = parseIdNum(id); // ‚úÖ NOVO

        const cat = slugCat(row[iCat]);
        const price = parsePriceBR(row[iPreco]);

        const stock = Number(String(row[iEstoq] ?? "").replace(",", "."));
        const rawPhoto = String(row[iFoto] ?? "").trim();
        let photo = normalizeDriveImage(rawPhoto);
        photo = shrinkImage(photo, 800);

        const status = normStatus(row[iStatus]);
        const desc = String(row[iDesc] ?? "").trim();

        out.push({ id, idNum, cat, name, price, status, stock: Number.isFinite(stock) ? stock : 0, photo, desc });
      }

      // ‚úÖ NOVO: ordena por ID (maior primeiro = mais recente)
      out.sort((a,b) => (b.idNum||0) - (a.idNum||0) || String(a.name).localeCompare(String(b.name), "pt-BR"));

      writeCache(out);
      return { products: out, fromCache: false, ts: Date.now() };
    }

    // ====== UI ======
    const catTitle = document.getElementById("catTitle");
    const grid = document.getElementById("grid");
    const empty = document.getElementById("empty");
    const qInput = document.getElementById("q");
    const countInfo = document.getElementById("countInfo");
    const topSub = document.getElementById("topSub");
    const cacheInfo = document.getElementById("cacheInfo");
    const refreshBtn = document.getElementById("refreshBtn");

    refreshBtn.style.display = isAdmin ? "inline-flex" : "none";

    const label = CAT_LABELS[cat] || "Cat√°logo";
    catTitle.textContent = label;
    topSub.textContent = label;

    // ‚úÖ restaura busca/filtro vindo do produto (ou link compartilhado)
    const initialQ = (qs.get("q") || "");
    const initialF = (qs.get("f") || "all");
    qInput.value = initialQ;

    let filterStatus = ["all","pronta","encomenda"].includes(initialF) ? initialF : "all";
    let ALL = [];

    function setActiveChip(){
      document.querySelectorAll(".chip").forEach(x => x.classList.remove("active"));
      const btn = document.querySelector(`.chip[data-filter="${filterStatus}"]`) || document.querySelector(`.chip[data-filter="all"]`);
      if(btn) btn.classList.add("active");
    }
    setActiveChip();

    function buildDetailsHref(p){
      const params = new URLSearchParams();
      params.set("id", p.id);

      // mant√©m contexto do cat√°logo
      if(cat) params.set("cat", cat);
      const q = (qInput.value || "").trim();
      if(q) params.set("q", q);
      if(filterStatus && filterStatus !== "all") params.set("f", filterStatus);

      // mant√©m admin se estiver em admin
      if(isAdmin) params.set("admin", "1");

      return `produto.html?${params.toString()}`;
    }

    function render(){
      const q = (qInput.value || "").trim().toLowerCase();

      let list = ALL
        .filter(p => !cat || p.cat === cat)
        .filter(p => p.name.toLowerCase().includes(q));

      if(filterStatus !== "all"){
        list = list.filter(p => p.status === filterStatus);
      }

      // ‚úÖ NOVO: garante ordem por ID tamb√©m ap√≥s filtrar/buscar
      list.sort((a,b) => (b.idNum||0) - (a.idNum||0) || String(a.name).localeCompare(String(b.name), "pt-BR"));

      grid.innerHTML = "";

      if(list.length === 0){
        empty.style.display = "block";
        countInfo.textContent = "0 itens";
        return;
      }

      empty.style.display = "none";
      countInfo.textContent = `${list.length} item(ns)`;

      for(const p of list){
        const el = document.createElement("article");
        el.className = "product";
        el.id = p.id;

        const fallback = `https://picsum.photos/seed/ras${encodeURIComponent(p.id)}/800/600`;
        const photo = (p.photo && !p.photo.includes("docs.google.com/spreadsheets")) ? p.photo : fallback;

        el.innerHTML = `
          <img class="thumb"
               src="${photo}"
               alt="${p.name}"
               loading="lazy"
               decoding="async"
               onerror="this.onerror=null;this.src='${fallback}';">
          <div class="pbody">
            <h3 class="pname">${p.name}</h3>
            <div class="row">
              <div class="price">${moneyBRL(p.price)}</div>
              ${statusBadge(p)}
            </div>
            <div class="actions">
              <a class="btn2" href="${buildDetailsHref(p)}">üîé Detalhes</a>
              <a class="btn2 btnBuy" href="${buildWhatsAppLink(p)}" target="_blank" rel="noopener">üü¢ WhatsApp</a>
            </div>
          </div>
        `;
        grid.appendChild(el);
      }
    }

    document.querySelectorAll(".chip").forEach(ch => {
      ch.addEventListener("click", () => {
        filterStatus = ch.dataset.filter;
        setActiveChip();
        render();
      });
    });

    qInput.addEventListener("input", render);

    const waFab = document.getElementById("waFab");
    waFab.href = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent("Ol√°! Vim pelo cat√°logo da Rio Anime Shop üòÑ. Pode me ajudar?")}`;

    async function boot({ forceRefresh=false } = {}){
      try{
        countInfo.textContent = "Carregando produtos...";
        cacheInfo.textContent = "";

        const result = await loadProductsFromSheet({ forceRefresh });
        ALL = result.products;

        const origin = result.fromCache ? "‚úÖ usando cache" : "üåê atualizado da planilha";
        cacheInfo.textContent = `${origin} ‚Ä¢ ${fmtTime(result.ts)}`;

        render();
      }catch(err){
        console.error(err);
        countInfo.textContent = "Erro ao carregar planilha";
        empty.style.display = "block";
        empty.textContent = "N√£o consegui ler a planilha. Confira se o CSV est√° publicado e se o link est√° correto (output=csv).";
      }
    }

    refreshBtn.addEventListener("click", async () => {
      if(!isAdmin) return;
      refreshBtn.disabled = true;
      refreshBtn.textContent = "‚è≥ Atualizando...";
      await boot({ forceRefresh: true });
      refreshBtn.disabled = false;
      refreshBtn.textContent = "üîÑ Atualizar";
    });

    boot();
  </script>
</body>
</html>

